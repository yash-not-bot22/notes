{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/project3_react/inotebook/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react/project3_react/inotebook/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/react/project3_react/inotebook/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/react/project3_react/inotebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/react/project3_react/inotebook/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Setnote from'../context/setnote';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _ref,_ref2;var _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];var loginuser=function loginuser(e){setuser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleclick=function handleclick(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginuserapi(user);case 3:props.logstatus();case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};var navigate=useNavigate();var loginuserapi=function loginuserapi(_x2){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userdet){var response,auth;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://notes-api-kappa.vercel.app/api/auth/login\",{method:\"POST\",// *GET, POST, PUT, DELETE, etc.\nheaders:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'https://notes-zeta-six.vercel.app'// 'Content-Type': 'application/x-www-form-urlencoded',\n},body:JSON.stringify(userdet)// body data type must match \"Content-Type\" header\n});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:auth=_context2.sent;if(auth){if(auth.authtoken){localStorage.setItem('token',auth.authtoken);navigate(\"/\");}else{console.log(auth.error);navigate('/login');}}else{navigate(\"/login\");}case 7:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);};return/*#__PURE__*/_jsx(\"div\",{className:\"container my-3\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputname1\",className:\"form-label\",children:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:loginuser,className:\"form-control\",id:\"exampleInputname1\",name:\"name\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:loginuser,className:\"form-control\",name:\"email\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:loginuser,name:\"password\",className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"exampleCheck1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"exampleCheck1\",children:\"Check me out\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleclick,className:\"btn btn-primary\",children:\"Submit\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","Setnote","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","_ref","_ref2","_useState","name","email","password","_useState2","_slicedToArray","user","setuser","loginuser","e","_objectSpread","_defineProperty","target","value","handleclick","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","loginuserapi","logstatus","stop","apply","arguments","navigate","_x2","_callee2","userdet","response","auth","_callee2$","_context2","fetch","method","headers","body","JSON","stringify","sent","json","authtoken","localStorage","setItem","console","log","error","className","children","htmlFor","type","onChange","id","onClick"],"sources":["D:/react/project3_react/inotebook/frontend/src/components/login.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Setnote from '../context/setnote'\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n    const [user,setuser]=useState({name:\"\",email:\"\",password:\"\"})\r\n    const loginuser=(e)=>{\r\n        setuser({...user,[e.target.name]:e.target.value})\r\n      }\r\n\r\n      const handleclick=async(e)=>{\r\n        \r\n        e.preventDefault();\r\n       await loginuserapi(user);\r\n        props.logstatus();\r\n        \r\n      }\r\n      let navigate=useNavigate();\r\n      \r\n\r\n      const loginuserapi=async(userdet)=>{\r\n        const response = await fetch(`https://notes-api-kappa.vercel.app/api/auth/login`, {\r\n        method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n        \r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          'Access-Control-Allow-Origin': 'https://notes-zeta-six.vercel.app',\r\n          // 'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n       \r\n        body: JSON.stringify(userdet), // body data type must match \"Content-Type\" header\r\n      });\r\n      \r\n\r\n      let auth= await response.json();\r\n      if(auth){\r\n        if(auth.authtoken){\r\n          localStorage.setItem('token',auth.authtoken)\r\n          navigate(\"/\");\r\n        }\r\n        else{\r\n          console.log(auth.error);\r\n          navigate('/login');\r\n        }\r\n      }\r\n      else{\r\n        navigate(\"/login\");\r\n        \r\n      }\r\n     \r\n      \r\n      \r\n      \r\n      \r\n      \r\n\r\n      }\r\n      \r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='container my-3'>\r\n      <form>\r\n  <div className=\"mb-3\">\r\n    <label htmlFor=\"exampleInputname1\" className=\"form-label\">name</label>\r\n    <input type=\"text\" onChange={loginuser} className=\"form-control\" id=\"exampleInputname1\" name=\"name\" />\r\n    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\r\n    <input type=\"email\" onChange={loginuser} className=\"form-control\" name=\"email\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"/>\r\n    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\r\n  </div>\r\n  <div className=\"mb-3\">\r\n    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\r\n    <input type=\"password\" onChange={loginuser} name=\"password\" className=\"form-control\" id=\"exampleInputPassword1\"/>\r\n  </div>\r\n  <div className=\"mb-3 form-check\">\r\n    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\"/>\r\n    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Check me out</label>\r\n  </div>\r\n  <button type=\"submit\" onClick={handleclick} className=\"btn btn-primary\">Submit</button>\r\n</form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}